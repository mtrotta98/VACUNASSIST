{% extends 'main.html' %}

{% block title %}
  <title>VACUNASSIST | Turnos Aprobados</title>
{% endblock %}

{% block content %}
    <div style="display: flex; align-items: center; justify-content: center; min-height: 80vh">
        <form action="#" method="POST">
            {% csrf_token %}
            <div class="row">
              <div class="col-4">
                <label for="">Buscar</label>
                <input type="text" class="form-control search-input filter-table" name="buscar_nombre" id="buscar_nombre" placeholder="buscar nombre..." data-column-id="1" data-table-id="turnos">
              </div>
              <div class="col-4">
                <label for="">Buscar</label>
                <input type="text" class="form-control search-input filter-table" name="buscar_apellido" id="buscar_apellido" placeholder="buscar apellido..." data-column-id="2" data-table-id="turnos">
              </div>
              <div class="col-4">
                <label for="">Buscar</label>
                <input type="date" class="form-control search-input filter-table" name="buscar_fecha" id="buscar_fecha" placeholder="Buscar fecha..." min="{{hoy|date:'Y-m-d'}}" data-column-id="5" data-table-id="turnos">
              </div>
            </div>
            <table id="turnos" class="table table-striped">
              <thead>
                <tr>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellido</th>
                    <th scope="col">DNI</th>
                    <th scope="col">Vacuna</th>
                    <th scope="col">Fecha</th>
                    <th scope="col">Posta</th>
                </tr>
              </thead>
              <tbody>
                {% for turno in turnos %}
                    <tr>
                        <td>{{turno.user.user.first_name}}</td>
                        <td>{{turno.user.user.last_name}}</td>
                        <td>{{turno.user.dni}}</td>
                        <td>{{turno.vacuna.get_name_display}}</td>
                        <td>{{turno.fecha|date:'Y-m-d'}}</td>
                        <td>{{turno.posta.get_name_display}}</td>
                        <td>
                    </tr>
                {% endfor %}
              </tbody>
            </table>
        </form>
    </div>
{% endblock %}